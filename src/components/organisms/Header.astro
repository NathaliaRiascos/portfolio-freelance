---
import { Image } from "astro:assets";
import Navbar from "../molecules/Navbar.astro";
import logo from "@/assets/logo.svg";
---

<div id="header-sentinel" style="height: 1px;"></div>
<header
  id="main-header"
  class:list={[
    "sticky top-0 flex w-full items-center justify-between bg-white py-5",
    "z-20 px-4 transition duration-75 md:px-10 xl:px-[100px]",
  ]}
>
  <Image src={logo} alt="Logo" class="h-[18px] w-auto" />
  <Navbar />
</header>

<script is:inline>
  const header = document.getElementById("main-header");
  const sentinel = document.getElementById("header-sentinel");
  const observer = new window.IntersectionObserver(
    ([entry]) => {
      if (entry.intersectionRatio < 1) {
        header.classList.add("drop-shadow-xl");
      } else {
        header.classList.remove("drop-shadow-xl");
      }
    },
    { threshold: [0.5] },
  );
  observer.observe(sentinel);
</script>
